/* docs/css/main.css
	 统一图片样式：使所有 img 响应式、居中、圆角、阴影，并为常用容器提供适配样式。
	 说明：
		 - 使用 `img.full-width` 可让图片撑满视口宽度（用于首图等场景）
		 - 懒加载请在 HTML 中使用 `loading="lazy"`
*/

/* 基本规则：仅针对文章内容区的图片（Markdown 渲染）使其响应式、块级元素、水平居中 */
.md-content img,
.md-content picture img,
.md-content figure img,
.md-typeset img,
.md-typeset picture img,
.md-typeset figure img,
.markdown-body img,
.markdown-body picture img,
.markdown-body figure img {
	display: block;
	/* 默认不占满整行：限制为视口或容器的 75% 更利于版式与可读性 */
	max-width: 75%;
	height: auto;
	margin-left: auto;
	margin-right: auto;
	/* 增加上下间距以分隔图片与文本/其它图片 */
	margin-top: 1rem;
	margin-bottom: 1.5rem;
	border-radius: 8px;
		/* 仅保留单一投影，不使用外部扩散环（全透明） */
		box-shadow: 0 12px 34px rgba(0, 0, 0, 0.14);
	/* 限制竖屏/高图高度，防止占用过多垂直空间；按比例缩放 */
	max-height: 75vh;
	width: auto;
	object-fit: contain;
}

/* 保持文章中 figure 的间距一致（仅影响内容区） */
.md-content figure,
.md-typeset figure,
.markdown-body figure {
	margin: 0 0 1rem 0;
}

/* 两栏图片布局组件（仓库中使用了 .two-col-images）*/
.md-content .two-col-images,
.md-typeset .two-col-images,
.markdown-body .two-col-images {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
	gap: 1.5rem;
	align-items: start;
}
.md-content .two-col-images .two-col-item img,
.md-typeset .two-col-images .two-col-item img,
.markdown-body .two-col-images .two-col-item img {
    width: 100%;
    height: auto;
    border-radius: 8px;
	/* 两栏图片不应被过高限制太多，但仍允许适当的最大高度 */
	max-height: 60vh;
}

/* 嵌入式 iframe / 模型预览适配 */
.embed-frame,
.embed-card iframe,
.embed-card .embed-frame {
	width: 100%;
	max-width: 100%;
	height: 420px;
	border: 0;
	border-radius: 8px;
	overflow: hidden;
}

/* 头像等小图标 */
img.avatar,
.avatar img {
	width: 48px;
	height: 48px;
	object-fit: cover;
	border-radius: 50%;
}

/* 用于需要拉满视口宽度的图片（例如首图），仅影响内容区 */
.md-content img.full-width,
.md-content .full-width img,
.md-typeset img.full-width,
.md-typeset .full-width img,
.markdown-body img.full-width,
.markdown-body .full-width img {
	width: 100vw;
	max-width: none;
	margin-left: calc(50% - 50vw);
	margin-right: calc(50% - 50vw);
	border-radius: 0;
	box-shadow: none;
	/* 确保全宽图片无边框覆盖默认透明边框 */
	border: none;
}

/* SVG 保持完整展示，不被裁切（仅影响内容区） */
.md-content img[src$=".svg"],
.md-typeset img[src$=".svg"],
.markdown-body img[src$=".svg"] {
	object-fit: contain;
}

/* 键盘可访问性：仅内容区图片获得焦点时可见轮廓 */
.md-content img:focus,
.md-typeset img:focus,
.markdown-body img:focus {
	outline: 3px solid rgba(0, 110, 255, 0.12);
	outline-offset: 4px;
}

/* 小屏幕上的视觉调整：仅改变嵌入 iframe 的高度，图片样式在全局统一 */
@media (max-width: 480px) {
	.embed-frame,
	.embed-card iframe {
		height: 300px;
	}
}

/* 暗色主题下使用更亮的环以在深背景上保留分隔感 */
@media (prefers-color-scheme: dark) {
	.md-content img,
	.md-typeset img,
	.markdown-body img {
		/* 暗色下也仅保留投影，不使用外环 */
		box-shadow: 0 12px 34px rgba(0, 0, 0, 0.2);
	}
}

/* ===== 以下覆盖：保护作者头像、导航 logo 与小图标，不被内容区通用 img 规则影响 ===== */
/* 作者头像（文章列表 / 文章头部等） */
.md-post__authors img,
.md-author img,
.md-post__header img {
	display: inline-block; /* 防止被 display:block 推起换行 */
	width: 48px;
	height: 48px;
	max-width: none; /* 覆盖 max-width:75% */
	margin: 0; /* 覆盖居中样式 */
	border-radius: 50%;
	object-fit: cover;
	box-shadow: none;
}

/* 侧边栏 / 顶部 logo：确保 logo 保持原始外观（无圆角、无阴影） */
.md-sidebar .md-logo img,
.md-nav__button.md-logo img,
.md-header .md-logo img {
	border-radius: 0 !important;
	box-shadow: none !important;
	max-width: 100%;
	height: auto;
}

/* 对于任何放在链接或小控件中的图标，限制被全局规则污染的风险 */
.md-post__meta img,
.md-meta img,
.md-sidebar img {
	max-width: none;
	height: auto;
}

/* 如果需要，可以在模板中为作者头像添加 class="avatar"，下面规则作为兜底（不强制） */
.avatar img,
img.avatar {
	width: 48px;
	height: 48px;
	object-fit: cover;
	border-radius: 50%;
}
/* 兼容：取消任何在其它样式表中对 .md-typeset .md-author 的强制样式影响
   如果你在某处看到如下规则并希望完全关闭，请在生成的 CSS 中移除或注释：
   .md-typeset .md-author { ... }
   下面通过增加更具体的选择器并重置常见属性，来确保作者头像恢复默认小图行为。
*/
.md-typeset .md-author {
	display: inline-block !important;
	width: auto !important;
	height: auto !important;
	overflow: visible !important;
	border-radius: 50% !important;
}

